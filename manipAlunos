# Função Lambda!
alunos = [
    {"nome": "Carla Vitoria", "idade": 20, "matricula": 2314457},
    {"nome": "Marcos Lima", "idade": 22, "matricula": 2314587},
    {"nome": "Maria Silva", "idade": 20, "matricula": 2315547},
    {"nome": "João Lucas", "idade": 20, "matricula": 2311698}
]

# List Comprehension
def inserir_novo_aluno(alunos, nome, matricula, idade):
    alunos.append({"nome": nome, "matricula": matricula, "idade": idade})


# Closure
def remover_aluno_por_matricula(alunos, matricula):
    nova_lista = [aluno for aluno in alunos if aluno["matricula"] != matricula]
    
    if len(nova_lista) == len(alunos):
        return False
    
    alunos.clear()
    alunos.extend(nova_lista)
    return True

# Função de Alta Ordem
def exibir_lista_de_alunos(alunos):

    if not alunos:
        return "Nenhum aluno cadastrado."
    
    return "\n".join([f"{aluno['nome']} - Matrícula: {aluno['matricula']}, Idade: {aluno['idade']}" for aluno in alunos])


# Menu interativo
while True:
    print("\nMENU:")
    print("1 - Ver lista de alunos")
    print("2 - Adicionar aluno")
    print("3 - Remover aluno")
    print("Outro número - Sair")

    opcao = input("Escolha uma opção: ")

    if opcao == "1":
        print("\nLista de alunos:")
        print(exibir_lista_de_alunos(alunos))

    elif opcao == "2": 
        nome = input("Nome: ")

        try:
            matricula = int(input("Matrícula: "))
            idade = int(input("Idade: "))
        except ValueError:
            print("\nErro: Digite valores numéricos válidos para matrícula e idade!")
            continue  

        inserir_novo_aluno(alunos, nome, matricula, idade)
        print("\nAluno cadastrado com sucesso!")

    elif opcao == "3": 
        try:
            matricula = int(input("Digite a matrícula do aluno a ser removido: "))
        except ValueError:
            print("\nErro: Digite um número válido!")
            continue

        if remover_aluno_por_matricula(alunos, matricula):
            print("\nAluno removido com sucesso!")
        else:
            print("\nMatrícula não encontrada!")

    else: 
        print("Saindo do programa...")
        break
